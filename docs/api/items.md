# ç‰©å“ç®¡ç† API

**åŸºç¡€URLï¼š** `http://localhost:19198`  
**æ¨¡å—ï¼š** ç‰©å“ç®¡ç†

---

## è·å–ç‰©å“åˆ—è¡¨

### GET /api/items

è·å–ç‰©å“åˆ—è¡¨

#### è¯·æ±‚ä¿¡æ¯
- **æ–¹æ³•ï¼š** GET
- **è·¯å¾„ï¼š** `/api/items`
- **è®¤è¯ï¼š** æ— éœ€è®¤è¯
- **ç¤ºä¾‹é“¾æ¥ï¼š** [http://localhost:19198/api/items](http://localhost:19198/api/items)

#### æŸ¥è¯¢å‚æ•°
- `page`: é¡µç ï¼ˆé»˜è®¤1ï¼‰
- `length`: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼‰âš ï¸ æ³¨æ„ï¼šå‚æ•°åä¸º `length` è€Œé `limit`
- `search`: æœç´¢å…³é”®è¯
- `type`: ç‰©å“ç±»å‹ï¼ˆbase, synthetic, ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºå…¨éƒ¨ï¼‰
- `sortBy`: æ’åºå­—æ®µï¼ˆid, name, usage_countï¼‰
- `sortOrder`: æ’åºé¡ºåºï¼ˆasc, descï¼‰
- `exact`: ç²¾ç¡®åŒ¹é…ï¼ˆtrue/falseï¼‰
- `includePrivate`: æ˜¯å¦åŒ…å«æœªå…¬å¼€æ•°æ®ï¼ˆç®¡ç†å‘˜ä¸“ç”¨ï¼‰

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "items": [
      {
        "id": 1,
        "name": "é‡‘",
        "emoji": "ğŸ¥‡",
        "is_base": 1,
        "usage_count": 5,
        "recipe_count": 2
      }
    ],
    "total": 100,
    "page": 1,
    "limit": 20
  }
}
```

---

## è·å–éšæœºç‰©å“

### GET /api/items/random

è·å–éšæœºç‰©å“

#### è¯·æ±‚ä¿¡æ¯
- **æ–¹æ³•ï¼š** GET
- **è·¯å¾„ï¼š** `/api/items/random`
- **è®¤è¯ï¼š** æ— éœ€è®¤è¯
- **ç¤ºä¾‹é“¾æ¥ï¼š** [http://localhost:19198/api/items/random](http://localhost:19198/api/items/random)

#### æŸ¥è¯¢å‚æ•°
- `type`: ç‰©å“ç±»å‹ï¼ˆé»˜è®¤ synthetic åˆæˆå…ƒç´ ï¼‰
  - `synthetic`: åˆæˆå…ƒç´ 
  - `base`: åŸºç¡€å…ƒç´ 

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 1,
    "name": "é‡‘",
    "emoji": "ğŸ¥‡",
    "is_base": 1,
    "usage_count": 5,
    "recipe_count": 2
  }
}
```

**æ³¨æ„ï¼š** æ­¤ç«¯ç‚¹å¿…é¡»åœ¨ `/:id` ä¹‹å‰è®¿é—®ï¼Œå¦åˆ™ 'random' ä¼šè¢«å½“ä½œ ID å¤„ç†

---

## è·å–å•ä¸ªç‰©å“è¯¦æƒ…

### GET /api/items/:id

è·å–å•ä¸ªç‰©å“è¯¦æƒ…ï¼ˆæ”¯æŒIDå’Œç‰©å“åæœç´¢ï¼‰

#### è¯·æ±‚ä¿¡æ¯
- **æ–¹æ³•ï¼š** GET
- **è·¯å¾„ï¼š** `/api/items/:id`
- **è®¤è¯ï¼š** æ— éœ€è®¤è¯
- **ç¤ºä¾‹é“¾æ¥ï¼š** 
  - æŒ‰IDæœç´¢ï¼š[http://localhost:19198/api/items/1](http://localhost:19198/api/items/1)
  - æŒ‰åç§°æœç´¢ï¼š[http://localhost:19198/api/items/æ°´](http://localhost:19198/api/items/æ°´)

#### è·¯å¾„å‚æ•°
- `id` (string): ç‰©å“IDï¼ˆæ•°å­—ï¼‰æˆ–ç‰©å“åç§°ï¼ˆå­—ç¬¦ä¸²ï¼‰

#### æœç´¢æ–¹å¼
1. **æ•°å­—IDæœç´¢**ï¼š`/api/items/1` - é€šè¿‡ç‰©å“IDæŸ¥æ‰¾
2. **ç‰©å“åæœç´¢**ï¼š`/api/items/æ°´` - é€šè¿‡ç‰©å“åç§°ç²¾ç¡®æŸ¥æ‰¾

---

## æ›´æ–°ç‰©å“å…¬å¼€çŠ¶æ€

### PUT /api/items/:id/public

æ›´æ–°ç‰©å“å…¬å¼€çŠ¶æ€ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰

#### è¯·æ±‚ä¿¡æ¯
- **æ–¹æ³•ï¼š** PUT
- **è·¯å¾„ï¼š** `/api/items/:id/public`
- **è®¤è¯ï¼š** éœ€è¦ç®¡ç†å‘˜æƒé™
- **ç¤ºä¾‹é“¾æ¥ï¼š** [http://localhost:19198/api/items/1/public](http://localhost:19198/api/items/1/public)

#### è·¯å¾„å‚æ•°
- `id`: ç‰©å“ID

#### è¯·æ±‚å‚æ•°
```json
{
  "is_public": 0 æˆ– 1  // 0: æœªå…¬å¼€, 1: å…¬å¼€
}
```

---

## ç‰©å“ç±»å‹è¯´æ˜

### åŸºç¡€ææ–™
ç³»ç»Ÿé¢„ç½®çš„åŸºç¡€ææ–™ï¼š
- **é‡‘** ğŸª™
- **æœ¨** ğŸªµ
- **æ°´** ğŸ’§
- **ç«** ğŸ”¥
- **åœŸ** ğŸŒ

### ç‰©å“å±æ€§
- `is_base`: æ˜¯å¦ä¸ºåŸºç¡€ææ–™ï¼ˆ0=å¦, 1=æ˜¯ï¼‰
- `is_public`: æ˜¯å¦å…¬å¼€å±•ç¤ºï¼ˆ0=å¦, 1=æ˜¯ï¼‰
- `usage_count`: ä½œä¸ºææ–™çš„ä½¿ç”¨æ¬¡æ•°
- `recipe_count`: ä½œä¸ºç»“æœçš„é…æ–¹æ•°é‡

### æœç´¢åŠŸèƒ½
- **ç²¾ç¡®åŒ¹é…**: è®¾ç½® `exact=true` è¿›è¡Œç²¾ç¡®æœç´¢
- **æ¨¡ç³Šæœç´¢**: é»˜è®¤æ”¯æŒæ¨¡ç³ŠåŒ¹é…
- **ç±»å‹ç­›é€‰**: é€šè¿‡ `type` å‚æ•°ç­›é€‰åŸºç¡€ææ–™æˆ–åˆæˆææ–™

---

## ç›¸å…³æ–‡æ¡£

- [APIæ–‡æ¡£é¦–é¡µ](../README.md)
- [é€šç”¨ä¿¡æ¯](../common.md)
- [è®¤è¯è¯´æ˜](../common.md#è®¤è¯è¯´æ˜)
- [é”™è¯¯å¤„ç†](../common.md#é”™è¯¯å¤„ç†)
